#!/usr/bin/env bash
set -euo pipefail

# Lightweight wrapper so users can run `./ccm` without installing shell functions.
# Delegates all behavior to the repo-local ccm.sh
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]:-$0}")" && pwd)"
CCM_SH="$SCRIPT_DIR/ccm.sh"

# Ensure the target is executable if present
if [[ -f "$CCM_SH" && ! -x "$CCM_SH" ]]; then
    chmod +x "$CCM_SH" 2>/dev/null || true
fi

if [[ ! -f "$CCM_SH" ]]; then
    echo "ccm error: missing $CCM_SH" >&2
    exit 1
fi

exec "$CCM_SH" "$@"
